<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Verificación — Introduce tu código</title>
    <style>
        :root {
            --accent: #0b5ed7;
            --muted: #6c757d
        }

        * {
            box-sizing: border-box
        }

        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: #fff
        }

        .card {
            width: 640px;
            max-width: 92%;
            padding: 42px 36px;
            border-radius: 16px;
            text-align: center
        }

        .email-pill {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 999px;
            border: 1px solid #e6e6e6;
            background: #fafafa;
            color: #333;
            font-weight: 600;
            margin-bottom: 18px
        }

        h1 {
            font-size: 34px;
            margin: 10px 0 8px
        }

        p.lead {
            color: var(--muted);
            margin: 0 0 26px;
            font-size: 16px
        }

        /* Inputs */
        .code-row {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin: 20px 0 18px
        }

        .code-input {
            width: 56px;
            height: 64px;
            border-radius: 8px;
            border: 2px solid #e6e6e6;
            font-size: 32px;
            text-align: center;
            outline: none
        }

        .code-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(11, 94, 215, 0.12)
        }

        .help {
            color: var(--accent);
            font-weight: 600;
            text-decoration: none
        }

        .small {
            color: var(--muted);
            font-size: 14px;
            margin-top: 8px
        }

        /* Responsive */
        @media (max-width:420px) {
            .code-input {
                width: 44px;
                height: 52px;
                font-size: 28px
            }
        }
    </style>
</head>

<body>
    <div class="card" role="main">
        <div class="email-pill">antoniomarfa@hotmail.com</div>
        <h1>Introduce tu código</h1>
        <p class="lead">Si <strong>antoniomarfa@gmail.com</strong> coincide con la dirección de correo de tu cuenta, te
            enviaremos un código.</p>

        <form id="codeForm" autocomplete="off" onsubmit="return false;" aria-label="Formulario de verificación">
            <div class="code-row" id="codeRow">
                <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="code-input" aria-label="Código 1" />
                <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="code-input" aria-label="Código 2" />
                <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="code-input" aria-label="Código 3" />
                <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="code-input" aria-label="Código 4" />
                <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="code-input" aria-label="Código 5" />
                <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="code-input" aria-label="Código 6" />
            </div>

            <div class="small">¿No recibiste el código? <a href="#" class="help">Reenviar código</a></div>
        </form>
    </div>

    <script>
        (function () {
            const inputs = Array.from(document.querySelectorAll('.code-input'));
            inputs[0].focus();

            function isNumberKey(ch) { return /\d/.test(ch); }

            inputs.forEach((input, idx) => {
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace') {
                        if (input.value === '') {
                            const prev = inputs[idx - 1];
                            if (prev) { prev.focus(); prev.select(); }
                        } else {
                            input.value = '';
                        }
                        e.preventDefault();
                        return;
                    }

                    // allow navigation keys
                    if (['ArrowLeft', 'ArrowRight', 'Tab'].includes(e.key)) return;

                    // only allow single digit
                    if (!isNumberKey(e.key)) {
                        e.preventDefault();
                    }
                });

                input.addEventListener('input', (e) => {
                    const val = e.target.value;
                    if (!val) return;
                    // keep only digits
                    const digit = val.replace(/\D/g, '').slice(-1);
                    e.target.value = digit;

                    // move to next
                    const next = inputs[idx + 1];
                    if (next) next.focus();

                    // if last and all filled, submit or handle code
                    if (idx === inputs.length - 1) {
                        const code = inputs.map(i => i.value).join('');
                        if (code.length === inputs.length) {
                            // aquí podrías enviar el código por fetch
                            console.log('Código ingresado:', code);
                        }
                    }
                });

                input.addEventListener('paste', (e) => {
                    e.preventDefault();
                    const paste = (e.clipboardData || window.clipboardData).getData('text');
                    const digits = paste.replace(/\D/g, '').split('').slice(0, inputs.length);
                    digits.forEach((d, i) => { inputs[i].value = d; });
                    const nextIndex = Math.min(digits.length, inputs.length - 1);
                    inputs[nextIndex].focus();
                });

                input.addEventListener('focus', (e) => e.target.select());
            });
        })();
    </script>
</body>

</html>